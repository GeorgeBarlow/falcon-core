{"version":3,"sources":["../../src/languages/StandardSqlFormatter.js"],"names":["reservedWords","reservedToplevelWords","reservedNewlineWords","tokenizer","StandardSqlFormatter","constructor","cfg","format","query","Tokenizer","stringTypes","openParens","closeParens","indexedPlaceholderTypes","namedPlaceholderTypes","lineCommentTypes","Formatter"],"mappings":"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","file":"StandardSqlFormatter.js","sourcesContent":["import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\n\nconst reservedWords = [\n  'ACCESSIBLE',\n  'ACTION',\n  'AGAINST',\n  'AGGREGATE',\n  'ALGORITHM',\n  'ALL',\n  'ALTER',\n  'ANALYSE',\n  'ANALYZE',\n  'AS',\n  'ASC',\n  'AUTOCOMMIT',\n  'AUTO_INCREMENT',\n  'BACKUP',\n  'BEGIN',\n  'BETWEEN',\n  'BINLOG',\n  'BOTH',\n  'CASCADE',\n  'CASE',\n  'CHANGE',\n  'CHANGED',\n  'CHARACTER SET',\n  'CHARSET',\n  'CHECK',\n  'CHECKSUM',\n  'COLLATE',\n  'COLLATION',\n  'COLUMN',\n  'COLUMNS',\n  'COMMENT',\n  'COMMIT',\n  'COMMITTED',\n  'COMPRESSED',\n  'CONCURRENT',\n  'CONSTRAINT',\n  'CONTAINS',\n  'CONVERT',\n  'CREATE',\n  'CROSS',\n  'CURRENT_TIMESTAMP',\n  'DATABASE',\n  'DATABASES',\n  'DAY',\n  'DAY_HOUR',\n  'DAY_MINUTE',\n  'DAY_SECOND',\n  'DEFAULT',\n  'DEFINER',\n  'DELAYED',\n  'DELETE',\n  'DESC',\n  'DESCRIBE',\n  'DETERMINISTIC',\n  'DISTINCT',\n  'DISTINCTROW',\n  'DIV',\n  'DO',\n  'DROP',\n  'DUMPFILE',\n  'DUPLICATE',\n  'DYNAMIC',\n  'ELSE',\n  'ENCLOSED',\n  'END',\n  'ENGINE',\n  'ENGINES',\n  'ENGINE_TYPE',\n  'ESCAPE',\n  'ESCAPED',\n  'EVENTS',\n  'EXEC',\n  'EXECUTE',\n  'EXISTS',\n  'EXPLAIN',\n  'EXTENDED',\n  'FAST',\n  'FETCH',\n  'FIELDS',\n  'FILE',\n  'FIRST',\n  'FIXED',\n  'FLUSH',\n  'FOR',\n  'FORCE',\n  'FOREIGN',\n  'FULL',\n  'FULLTEXT',\n  'FUNCTION',\n  'GLOBAL',\n  'GRANT',\n  'GRANTS',\n  'GROUP_CONCAT',\n  'HEAP',\n  'HIGH_PRIORITY',\n  'HOSTS',\n  'HOUR',\n  'HOUR_MINUTE',\n  'HOUR_SECOND',\n  'IDENTIFIED',\n  'IF',\n  'IFNULL',\n  'IGNORE',\n  'IN',\n  'INDEX',\n  'INDEXES',\n  'INFILE',\n  'INSERT',\n  'INSERT_ID',\n  'INSERT_METHOD',\n  'INTERVAL',\n  'INTO',\n  'INVOKER',\n  'IS',\n  'ISOLATION',\n  'KEY',\n  'KEYS',\n  'KILL',\n  'LAST_INSERT_ID',\n  'LEADING',\n  'LEVEL',\n  'LIKE',\n  'LINEAR',\n  'LINES',\n  'LOAD',\n  'LOCAL',\n  'LOCK',\n  'LOCKS',\n  'LOGS',\n  'LOW_PRIORITY',\n  'MARIA',\n  'MASTER',\n  'MASTER_CONNECT_RETRY',\n  'MASTER_HOST',\n  'MASTER_LOG_FILE',\n  'MATCH',\n  'MAX_CONNECTIONS_PER_HOUR',\n  'MAX_QUERIES_PER_HOUR',\n  'MAX_ROWS',\n  'MAX_UPDATES_PER_HOUR',\n  'MAX_USER_CONNECTIONS',\n  'MEDIUM',\n  'MERGE',\n  'MINUTE',\n  'MINUTE_SECOND',\n  'MIN_ROWS',\n  'MODE',\n  'MODIFY',\n  'MONTH',\n  'MRG_MYISAM',\n  'MYISAM',\n  'NAMES',\n  'NATURAL',\n  'NOT',\n  'NOW()',\n  'NULL',\n  'OFFSET',\n  'ON DELETE',\n  'ON UPDATE',\n  'ON',\n  'ONLY',\n  'OPEN',\n  'OPTIMIZE',\n  'OPTION',\n  'OPTIONALLY',\n  'OUTFILE',\n  'PACK_KEYS',\n  'PAGE',\n  'PARTIAL',\n  'PARTITION',\n  'PARTITIONS',\n  'PASSWORD',\n  'PRIMARY',\n  'PRIVILEGES',\n  'PROCEDURE',\n  'PROCESS',\n  'PROCESSLIST',\n  'PURGE',\n  'QUICK',\n  'RAID0',\n  'RAID_CHUNKS',\n  'RAID_CHUNKSIZE',\n  'RAID_TYPE',\n  'RANGE',\n  'READ',\n  'READ_ONLY',\n  'READ_WRITE',\n  'REFERENCES',\n  'REGEXP',\n  'RELOAD',\n  'RENAME',\n  'REPAIR',\n  'REPEATABLE',\n  'REPLACE',\n  'REPLICATION',\n  'RESET',\n  'RESTORE',\n  'RESTRICT',\n  'RETURN',\n  'RETURNS',\n  'REVOKE',\n  'RLIKE',\n  'ROLLBACK',\n  'ROW',\n  'ROWS',\n  'ROW_FORMAT',\n  'SECOND',\n  'SECURITY',\n  'SEPARATOR',\n  'SERIALIZABLE',\n  'SESSION',\n  'SHARE',\n  'SHOW',\n  'SHUTDOWN',\n  'SLAVE',\n  'SONAME',\n  'SOUNDS',\n  'SQL',\n  'SQL_AUTO_IS_NULL',\n  'SQL_BIG_RESULT',\n  'SQL_BIG_SELECTS',\n  'SQL_BIG_TABLES',\n  'SQL_BUFFER_RESULT',\n  'SQL_CACHE',\n  'SQL_CALC_FOUND_ROWS',\n  'SQL_LOG_BIN',\n  'SQL_LOG_OFF',\n  'SQL_LOG_UPDATE',\n  'SQL_LOW_PRIORITY_UPDATES',\n  'SQL_MAX_JOIN_SIZE',\n  'SQL_NO_CACHE',\n  'SQL_QUOTE_SHOW_CREATE',\n  'SQL_SAFE_UPDATES',\n  'SQL_SELECT_LIMIT',\n  'SQL_SLAVE_SKIP_COUNTER',\n  'SQL_SMALL_RESULT',\n  'SQL_WARNINGS',\n  'START',\n  'STARTING',\n  'STATUS',\n  'STOP',\n  'STORAGE',\n  'STRAIGHT_JOIN',\n  'STRING',\n  'STRIPED',\n  'SUPER',\n  'TABLE',\n  'TABLES',\n  'TEMPORARY',\n  'TERMINATED',\n  'THEN',\n  'TO',\n  'TRAILING',\n  'TRANSACTIONAL',\n  'TRUE',\n  'TRUNCATE',\n  'TYPE',\n  'TYPES',\n  'UNCOMMITTED',\n  'UNIQUE',\n  'UNLOCK',\n  'UNSIGNED',\n  'USAGE',\n  'USE',\n  'USING',\n  'VARIABLES',\n  'VIEW',\n  'WHEN',\n  'WITH',\n  'WORK',\n  'WRITE',\n  'YEAR_MONTH'\n];\n\nconst reservedToplevelWords = [\n  'ADD',\n  'AFTER',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'DELETE FROM',\n  'EXCEPT',\n  'FETCH FIRST',\n  'FROM',\n  'GROUP BY',\n  'GO',\n  'HAVING',\n  'INSERT INTO',\n  'INSERT',\n  'INTERSECT',\n  'LIMIT',\n  'MODIFY',\n  'ORDER BY',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'UNION ALL',\n  'UNION',\n  'UPDATE',\n  'VALUES',\n  'WHERE'\n];\n\nconst reservedNewlineWords = [\n  'AND',\n  'CROSS APPLY',\n  'CROSS JOIN',\n  'ELSE',\n  'INNER JOIN',\n  'JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'OR',\n  'OUTER APPLY',\n  'OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'WHEN',\n  'XOR'\n];\n\nlet tokenizer;\n\nexport default class StandardSqlFormatter {\n  /**\n   * @param {Object} cfg Different set of configurations\n   */\n  constructor(cfg) {\n    this.cfg = cfg;\n  }\n\n  /**\n   * Format the whitespace in a Standard SQL string to make it easier to read\n   *\n   * @param {String} query The Standard SQL string\n   * @return {String} formatted string\n   */\n  format(query) {\n    if (!tokenizer) {\n      tokenizer = new Tokenizer({\n        reservedWords,\n        reservedToplevelWords,\n        reservedNewlineWords,\n        stringTypes: [`\"\"`, \"N''\", \"''\", '``', '[]'],\n        openParens: ['(', 'CASE'],\n        closeParens: [')', 'END'],\n        indexedPlaceholderTypes: ['?'],\n        namedPlaceholderTypes: ['@', ':'],\n        lineCommentTypes: ['#', '--']\n      });\n    }\n    return new Formatter(this.cfg, tokenizer).format(query);\n  }\n}\n"]}